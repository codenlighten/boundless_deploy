{
  "clusterId": "lumen-boundless-prod-01",
  "environment": "production",
  
  "hub": {
    "host": "hub.lumenbridge.internal",
    "port": 443,
    "protocol": "https",
    "apiVersion": "v1"
  },

  "secrets": {
    "provider": "env"
  },

  "nodes": [
    {
      "id": "boundless-miner-01",
      "role": "blockchain-miner",
      "image": {
        "repository": "boundless-bls-platform-blockchain",
        "tag": "latest",
        "updatePolicy": {
          "strategy": "fixed",
          "autoRollout": false
        }
      },
      "resources": {
        "cpu": { "limit": 4.0, "reserve": 2.0 },
        "memory": { "limitMiB": 4096, "reserveMiB": 2048 }
      },
      "env": [
        { "name": "NODE_ENV", "value": "production" },
        { "name": "HUB_AUTH_TOKEN", "valueFromSecret": "hub-boundless-miner-token" }
      ],
      "volumes": [
        {
          "name": "boundless-data",
          "mountPath": "/data",
          "readOnly": false
        }
      ],
      "networks": [
        {
          "name": "lumen-blockchain-net",
          "aliases": ["boundless-miner-01"]
        }
      ],
      "security": {
        "runAsUser": 1000,
        "runAsGroup": 1000,
        "readOnlyRootFilesystem": false,
        "allowPrivilegeEscalation": false,
        "capabilities": {
          "drop": ["ALL"]
        }
      },
      "hubConnection": {
        "host": "hub.lumenbridge.internal",
        "port": 443,
        "protocol": "https",
        "tls": {
          "enabled": true,
          "caFile": "/etc/ssl/certs/hub-ca.pem"
        },
        "auth": {
          "type": "token",
          "tokenEnvVar": "HUB_AUTH_TOKEN"
        },
        "heartbeat": {
          "intervalSeconds": 60,
          "timeoutSeconds": 15
        }
      },
      "logging": {
        "driver": "json-file",
        "maxSize": "10m",
        "maxFiles": 3
      },
      "metrics": {
        "enabled": true,
        "port": 9615,
        "path": "/metrics"
      },
      "blockchainConfig": {
        "mining": {
          "enabled": true,
          "coinbase": "YOUR_ADDRESS_HERE",
          "threads": 2
        },
        "network": {
          "p2pPort": 30333,
          "rpcPort": 9933,
          "rpcHost": "0.0.0.0",
          "bootnodes": [
            "/ip4/159.203.114.205/tcp/30333/p2p/12D3KooWAeNG1hyCePFBb2Ryz4a5hR5gamVKvMgA7LRGbx5MPMPE"
          ]
        },
        "storage": {
          "basePath": "/data",
          "volumeName": "boundless-data"
        }
      }
    }
  ],

  "orchestration": {
    "platform": "docker",
    "deploymentStrategy": "sequential"
  },

  "monitoring": {
    "prometheus": {
      "enabled": true,
      "scrapeInterval": "30s"
    },
    "grafana": {
      "enabled": true,
      "dashboards": ["boundless-mining", "blockchain-network"]
    }
  }
}
